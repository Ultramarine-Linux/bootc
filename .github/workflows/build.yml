name: Build bootc images

on:
    push:
    pull_request:
        branches:
            - main
    schedule:
        - cron: "0 1 * * TUE" #Â Every Tuesday at 1am UTC
    merge_group:
    workflow_dispatch:

concurrency:
    group: ${{ github.workflow }}-${{ github.ref || github.run_id }}
    cancel-in-progress: true

jobs:
    build-base:
        strategy:
            matrix:
                version:
                    - 41
                    - 42
        uses: ./.github/workflows/reusable-build-image.yml
        secrets: inherit
        with:
            image-name: ultramarine
            flavor: base
            fedora-version: ${{ matrix.version }}
